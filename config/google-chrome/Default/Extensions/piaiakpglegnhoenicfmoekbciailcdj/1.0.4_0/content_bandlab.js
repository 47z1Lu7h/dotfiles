!function(){function e(){!function(){var e=document.createElement("div");e.style.display="none",e.style.position="fixed",e.style.zIndex="2000",e.style.left="0",e.style.top="0",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgba(0, 0, 0, 0.4)",e.setAttribute("id","myModal");var t=document.createElement("div");t.style.backgroundColor="#fefefe",t.style.margin="15% auto",t.style.padding="20px",t.style.border="1px solid #888",t.style.width="33%";var n=document.createElement("span");n.textContent="Ã—",n.style.color="#aaa",n.style.float="right",n.style.fontSize="28px",n.style.fontWeight="bold",n.style.cursor="pointer",n.onclick=function(){e.remove()};var o=document.createElement("p");o.style.backgroundColor="rgba(255, 255, 255, 0.8)",o.style.color="#000",o.textContent="Hit your usage limit? Upgrade now for unlimited access and keep the actions coming without interruption!";var l=document.createElement("button");l.textContent="Cancel",l.style.backgroundColor="#f0f0f0",l.style.borderRadius="5px",l.style.padding="5px",l.onclick=function(){e.remove()};var r=document.createElement("button");r.textContent="Upgrade",r.style.float="right",r.style.backgroundColor="#f7941e",r.style.borderRadius="5px",r.style.padding="5px",window.onclick=function(t){if(t.target===r){const t=chrome.runtime.getURL("price.html");window.open(t,"_blank"),e.remove()}},t.appendChild(n),t.appendChild(o),t.appendChild(l),t.appendChild(r),e.appendChild(t),document.body.appendChild(e),e.style.display="block"}()}function t(t){let n={type:"getl"};try{chrome.runtime.sendMessage(n,(function(o){chrome.runtime.lastError||(-1==o.status?t():(n={type:"down"},chrome.runtime.sendMessage(n,(function(n){chrome.runtime.lastError||(n.status<4?t():e())}))))}))}catch{}}const n='\n<svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <path stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 13V4M7 14H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2m-1-5-4 5-4-5m9 8h.01"/>\n</svg>';function o(e,o){let l=e.querySelector("div.revision-tile-player>div.revision-tile-project-cover");null==l&&(l=e.querySelector("div.track-page-player-cover"));const r=o.getAttribute("waveform-url").replace(".json",".m4a");var a,i,d;a=l,i=r,(d=document.createElement("button")).innerHTML=n,d.className="ndy_bandlab_btn",d.style.height="25px",d.style.position="absolute",d.style.backgroundColor="#0000005f",d.style.border="none",d.style.padding="0px",d.style.top="0%",d.style.left="77%",d.style.zIndex=1,d.onclick=function(){t((()=>{window.open(i,"_blank")}))},a.insertBefore(d,a.firstChild)}function l(e){let o=e.parentNode;var l,r,a;l=o,r=e.src,(a=document.createElement("button")).innerHTML=n,a.className="ndy_bandlab_btn",a.style.height="25px",a.style.position="absolute",a.style.backgroundColor="#0000005f",a.style.border="none",a.style.padding="0px",a.style.top="0%",a.style.left="95%",a.style.zIndex=1,a.onclick=function(){t((()=>{const e=document.createElement("a");e.href=r,e.download=r.split("/").pop(),e.target="_blank",document.body.appendChild(e),e.style.display="none",e.click(),document.body.removeChild(e)}))},l.insertBefore(a,l.firstChild)}function r(){!function(){let e=document.querySelectorAll("div.revision-tile-player");0==e.length&&(e=document.querySelectorAll("div.track-page-player")),e.forEach((e=>{const t=e.querySelector("canvas.waveform-bars");null!=t&&null==e.querySelector("button.ndy_bandlab_btn")&&o(e,t)}))}(),Array.from(document.querySelectorAll("video")).filter((e=>e.src)).forEach((e=>{null==e.parentNode.parentNode.querySelector("button.ndy_bandlab_btn")&&l(e)}))}document.addEventListener("DOMContentLoaded",(function(){const e=document.createElement("script");e.src=chrome.runtime.getURL("js/bandlab_inject.js"),document.head.appendChild(e),setInterval((()=>{r()}),1e3)}))}();