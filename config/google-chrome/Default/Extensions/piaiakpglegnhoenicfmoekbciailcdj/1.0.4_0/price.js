fetch("price.json").then((e=>e.json())).then((e=>{const t=document.getElementById("price-cards-container");let n="";function c(e){const c=t.querySelector(".price-card.selected");c&&c.classList.remove("selected");const d=e.currentTarget;d.classList.add("selected"),n=d.dataset.prodCode,document.getElementById("sub-pri").innerText=d.dataset.price}e.forEach((e=>{const n=document.createElement("div");n.classList.add("price-card"),n.dataset.prodCode=e.prod_code,n.dataset.price=e.price;const c=document.createElement("h2");c.textContent=e.title;const d=document.createElement("p");d.textContent=e.description;const s=document.createElement("ul");s.classList.add("feature-list"),e.features.forEach((e=>{if(e.show){const t=document.createElement("li");t.classList.add("feature-item"),Object.assign(t.style,e.style);const n=document.createElement("span");n.classList.add("icon"),n.innerHTML=e.is_active?'<svg t="1686542124400" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2798" width="16" height="16"><path d="M402.326 848.721l-391.6-391.6c-14.3-14.3-14.3-37.4 0-51.7s37.4-14.3 51.7 0l339.8 339.9 559.3-559.3c14.3-14.3 37.4-14.3 51.7 0 14.3 14.3 14.3 37.4 0 51.7l-610.9 611z" fill="#27D0D8" p-id="2799"></path></svg>':'<svg t="1686542202784" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6559" id="mx_n_1686542202785" width="16" height="16"><path d="M463.787 512l-253.44-253.44a34.133 34.133 0 0 1 48.213-48.213L512 463.787l253.44-253.44a34.133 34.133 0 1 1 48.213 48.213L560.213 512l253.44 253.44a34.133 34.133 0 1 1-48.213 48.213L512 560.213l-253.44 253.44a34.133 34.133 0 0 1-48.213-48.213z" fill="#d81e06" p-id="6560"></path></svg>',t.appendChild(n),t.innerHTML+=e.title,s.appendChild(t)}})),n.appendChild(c),n.appendChild(d),n.appendChild(s),t.appendChild(n)}));t.querySelectorAll(".price-card").forEach((e=>{e.addEventListener("click",c)}));document.getElementById("subscribe-btn").addEventListener("click",(function(){n&&chrome.runtime.sendMessage({target:"BACKGROUND",type:"OPEN PAYMENT PAGE",price_id:n},(function(e){chrome.runtime.lastError}))}));document.getElementById("sub-login").addEventListener("click",(function(){chrome.runtime.sendMessage({target:"BACKGROUND",type:"OPEN LOGIN PAGE"})})),function(){const e=t.querySelectorAll(".price-card")[1];e&&(e.classList.add("selected"),n=e.dataset.prodCode,document.getElementById("sub-pri").innerText=e.dataset.price)}()}));