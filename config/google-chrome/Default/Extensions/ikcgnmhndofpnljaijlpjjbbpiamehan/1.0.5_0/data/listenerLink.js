class ListenerLink{constructor(){this.setInstaLinksLinsteners(),this.observer=new MutationObserver((e=>{this.setInstaLinksLinsteners()})),this.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0})}setInstaLinksLinsteners(){document.body.querySelectorAll('a[href*="instagram.com"]').forEach((e=>{e.removeEventListener("click",this.instaLinkListener),e.addEventListener("click",this.instaLinkListener)}))}instaLinkListener(e){e.preventDefault();let t=e.target;for(let e=0;e<7;e++){if("A"==t.tagName){chrome.runtime.sendMessage({action:"open_insta_link",url:t.href});break}t=t.parentNode}}}document.addEventListener("DOMContentLoaded",(()=>{new ListenerLink}));